/*!build time : 2013-11-04 6:26:45 PM*/
KISSY.add("gallery/jasmine-kissy/2.0/sub-module/html-mock",function(a,b,c,d,e){function f(b){var c=this;a.mix(c,f.defaultConfig,b)}var g=b.all;return f.defaultConfig={wrapperHook:"#J_JF",wrapperTpl:'<div id ="J_JF"></div>',cache:{},domCache:{}},a.augment(f,{load:function(a,b){var c,d=this;return arguments?(c=d._getHtml(a,b),d._appendTo(a,c)):!1},clean:function(a){var b=this;if(a){var c=b.domCache[a];c&&c.length&&c.remove()}else{var d=b.wrapperHook;g(d).html("")}},_getHtml:function(b,c){var d=this,e=d.cache;if(a.isUndefined(e[b])){var f=d._send(b),g=d.isVm(b);g&&(f=d._parse(f,c),d.cache[b]=f)}return d.cache[b]},_send:function(a,b){var d=this,e=c.useMock;e&&(c.useMock=!1);var f="";return d.cache[a]?d.cache[a]:(c({async:!1,cache:!1,dataType:b||"html",url:a,data:{},success:function(a){f=a},error:function(b,c,d){throw Error("Fixture could not be loaded: "+a+" (status: "+c+", message: "+d.message+")")}}),e&&(c.useMock=!0),d.cache[a]=f,f)},_appendTo:function(b,c){if(!a.isString(c))return!1;var d=this,e=d.wrapperTpl,f=d.wrapperHook;g(f).length||g("body").append(e);var h=g(c);return d.domCache[b]=h,g(f).append(h),g(f)},cleanCache:function(){return this.cache={},this},isVm:function(a){return/\.vm$/.test(a)},_parse:function(b,c){var f=this;if(!a.isString(b))return"";a.isString(c)&&(c=f._send(c,"json")),b=f._require(b,c);var g=e.parse(b),h=new d(g);return h.render(c)},_require:function(b,c){function d(b){var c="";return a.each(k,function(a,d){var f=new RegExp(d);return f.test(b)?(a=b.replace(f,a),c=e._send(a),e.cache[b]=c,!1):void 0}),c}var e=this,f=/#parse\(\"(.*)\"\)/g,g=b.match(f)||[],h=/\$control.setTemplate\(\"(.*)\"\).*\r\n/g,i=b.match(h)||[],j=g.length||i.length;if(!j||!c.MAP)return b;i.length&&a.each(i,function(a){g.push(a)});var k=c.MAP;return a.each(g,function(a){var c=a.match(f)||[];c.length||(f=h,c=a.match(f)||[]);var g=RegExp.$1;if(!e.cache[g]){var i=d(g);b=b.replace(a,i)}}),b}}),f},{requires:["node","ajax","gallery/velocity/1.1/index","gallery/velocity/1.1/parse"]}),KISSY.add("gallery/jasmine-kissy/2.0/sub-module/machers",function(a,b){beforeEach(function(){var a=b.all;this.addMatchers({toExist:function(){return a(this.actual).length>0},toHasClass:function(b){return a(this.actual).hasClass(b)},toHasAttr:function(b){return a(this.actual).hasAttr(b)},toHasProp:function(b){return a(this.actual).hasProp(b)},toHasData:function(b){return""!=a(this.actual).data(b)},toContain:function(b){return a(this.actual).children(b).length>0},toEqualValue:function(b){return a(this.actual).val()===b},toEqualText:function(b){return KISSY.trim(a(this.actual).text())===b},toShow:function(){return"block"===a(this.actual).css("display")}})})},{requires:["node"]}),KISSY.add("gallery/jasmine-kissy/2.0/index",function(a,b){return b},{requires:["./sub-module/html-mock","./sub-module/machers"]});